<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solo Leveling: Academia PMPE [v25.1 - Final]</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js'></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="auth-container">
        <div id="login-panel" class="auth-panel">
            <h2 class="panel-title">Login</h2>
            <form id="login-form"><label for="login-numerica">Sua Num√©rica:</label><input type="number" id="login-numerica" placeholder="Digite sua num√©rica..." required><label for="login-password">Sua Senha:</label><input type="password" id="login-password" placeholder="Digite sua senha..." required><button type="submit">Entrar</button><p id="login-error" class="error-message"></p></form>
            <p class="auth-switcher">N√£o tem uma conta? <button id="switch-to-signup">Crie uma</button></p>
        </div>
        <div id="signup-panel" class="auth-panel hidden">
            <h2 class="panel-title">Criar Conta</h2>
            <form id="signup-form"><label for="signup-guerra">Nome de Guerra:</label><input type="text" id="signup-guerra" required><label for="signup-numerica">Num√©rica:</label><input type="number" id="signup-numerica" required><label for="signup-pelotao">Pelot√£o (somente o n√∫mero):</label><input type="text" id="signup-pelotao" required><label for="signup-password">Crie uma Senha (m√≠n. 6 caracteres):</label><input type="password" id="signup-password" required><button type="submit">Criar Conta</button><p id="signup-error" class="error-message"></p></form>
            <p class="auth-switcher">J√° tem uma conta? <button id="switch-to-login">Fa√ßa Login</button></p>
        </div>
    </div>

    <div id="stats-detail-modal" class="modal hidden">
        <div id="stats-detail-content" class="panel"><h2 class="panel-title">Relat√≥rio Detalhado de Habilidades</h2><div id="stats-detail-grid"></div><button id="stats-detail-close-button">Fechar</button></div>
    </div>
    <div id="event-detail-modal" class="modal hidden">
        <div id="event-detail-content" class="panel"><h2 id="event-detail-title" class="panel-title"></h2><p id="event-detail-body"></p><button id="event-detail-close-button">Fechar</button></div>
    </div>
    
    <div id="game-container" class="hidden">
        <div id="left-column"><div id="profile-panel" class="panel"><div id="profile-pic-container"><img id="profile-pic" src="https://i.imgur.com/K3wY2mn.png" alt="Foto do Perfil"><input type="file" id="upload-pic-input" accept="image/*" class="hidden"><button id="upload-pic-button" title="Trocar Foto de Perfil">üì∑</button></div><div id="player-info"><div id="player-name">Aluno Oficial</div><div id="level">N√çVEL 1</div><div><strong>T√≠tulo:</strong> <span id="player-title"></span></div></div><div class="progress-bar-container"><div id="exp-bar"></div></div><div id="exp-text">EXP: 0 / 100</div><div class="profile-actions"><button class="tab-button" data-tab="tab-settings">‚öôÔ∏è Configura√ß√µes</button><button id="logout-button">Sair</button></div></div><div id="stats-panel" class="panel"><h2 class="panel-title">HABILIDADES</h2><canvas id="stats-chart"></canvas><p class="chart-helper-text">Clique no gr√°fico para ver detalhes</p></div></div>
        <div id="main-column"><div id="time-and-action-panel" class="panel"><div class="main-progress-display"><div id="course-percentage-large">0.0%</div><div id="course-day-display">Dia 0 de 365<br><span id="course-days-remaining"></span></div></div><div class="action-and-goal-section"><div class="goal-display"><div id="countdown-display-container"></div><div id="goal-list"></div><div class="goal-setter"><input type="text" id="goal-name-input" placeholder="Nome do Objetivo"><input type="date" id="goal-date-input"><button id="add-goal-button">+</button></div></div><div class="action-controls"><div class="daily-task"><label id="daily-quest-label"><input type="checkbox" id="daily-quest-checkbox"> Miss√£o Di√°ria Principal</label></div><button id="pass-day-button">AVAN√áAR DIA</button></div></div></div><div id="tabs-panel" class="panel"><div class="tab-buttons"><button class="tab-button active" data-tab="tab-main">Principal</button><button class="tab-button" data-tab="tab-mural">Mural</button><button class="tab-button" data-tab="tab-ranking">Ranking</button><button class="tab-button" data-tab="tab-calendario">Calend√°rio</button><button class="tab-button" data-tab="tab-qts">QTS</button><button class="tab-button" data-tab="tab-notas">Notas</button><button class="tab-button" data-tab="tab-links">Links/SEI</button><button class="tab-button" data-tab="tab-lembretes">Lembretes</button><button class="tab-button" data-tab="tab-conquistas">Conquistas</button><button class="tab-button" data-tab="tab-escalas">Escalas</button><button class="tab-button hidden" data-tab="tab-admin" id="admin-tab-button">Admin</button></div><div class="tab-content"><div id="tab-main" class="tab active"><div id="global-announcements-container"></div><div id="quick-quests-container"></div><div id="mission-forecast-container"></div></div><div id="tab-mural" class="tab"><h3>Mural de Mensagens</h3><div id="mural-feed"></div><form id="mural-post-form"><textarea id="mural-input" placeholder="Digite sua mensagem..." required></textarea><button type="submit">Postar</button></form></div><div id="tab-ranking" class="tab"><h3>Ranking de Combatentes (Top 50)</h3><p class="helper-text">O ranking √© atualizado a cada 5 minutos.</p><div id="ranking-list">Carregando ranking...</div></div><div id="tab-calendario" class="tab"><div id="calendar"></div></div><div id="tab-qts" class="tab"><h3>Quadro de Trabalho Semanal (Edit√°vel)</h3><p class="helper-text">Clique em uma c√©lula para digitar a sigla da mat√©ria.</p><div id="qts-schedule-container"></div></div><div id="tab-notas" class="tab"><div class="grades-header"><h3>Controle de Notas</h3><div id="grades-average">M√©dia Geral: N/A</div></div><div id="grades-container"></div></div><div id="tab-links" class="tab"><h3>Links e Processos Importantes</h3><form id="add-link-form"><input type="text" id="link-title-input" placeholder="T√≠tulo" required><input type="text" id="link-value-input" placeholder="Link ou N¬∫ SEI" required><select id="link-type-input"><option value="link">Link</option><option value="sei">Processo SEI</option></select><button type="submit">Adicionar</button></form><div id="links-list"></div></div><div id="tab-lembretes" class="tab"><h3>Lembretes da Semana</h3><div id="reminders-list"></div><div class="reminder-input-group"><input type="text" id="reminder-input" placeholder="Novo lembrete..."><button id="add-reminder-button">+</button></div></div><div id="tab-conquistas" class="tab"><h3>Quadro de Conquistas</h3><div id="achievements-grid"></div></div><div id="tab-escalas" class="tab"><h3>Adicionar Servi√ßo/Plant√£o</h3><form id="add-mission-form"><input type="text" id="mission-name-input" placeholder="Ex: Plant√£o, Auxiliar..." required><input type="date" id="mission-date-input" required><button type="submit">Agendar Miss√£o</button></form><h4>Servi√ßos Agendados:</h4><ul id="scheduled-missions-list"></ul></div><div id="tab-settings" class="tab"><h3>Configura√ß√µes do Perfil</h3><div class="settings-section"><h4>Atualizar Perfil</h4><label for="instagram-input">Instagram (ex: @usuario):</label><input type="text" id="instagram-input" placeholder="Seu @ no Instagram"><button id="save-profile-button">Salvar Perfil</button></div><div class="settings-section"><h4>Alterar Senha</h4><label for="new-password-input">Nova Senha (m√≠n. 6 caracteres):</label><input type="password" id="new-password-input"><button id="update-password-button">Atualizar Senha</button></div><div class="settings-section"><h4>Elogios Recebidos</h4><div id="elogios-list">Carregando...</div></div></div></div></div></div>
        <div id="right-column"><div id="log-panel" class="panel"><h2 class="panel-title">REGISTRO DE ATIVIDADES</h2><div id="log-content"></div></div></div>
    </div>

    <div id="admin-container" class="hidden">
        <div class="panel">
            <div class="admin-header">
                <h2 class="panel-title">Painel do Administrador</h2>
                <button id="admin-logout-button">Sair</button>
            </div>
            <div class="settings-section"><h4>Publicar Aviso Global</h4><textarea id="announcement-input" rows="3" placeholder="Digite o aviso para todos os usu√°rios..."></textarea><button id="publish-announcement-button">Publicar Aviso</button></div>
            <div class="settings-section"><h4>Usu√°rios Cadastrados</h4><div id="admin-user-list">Carregando usu√°rios...</div></div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
